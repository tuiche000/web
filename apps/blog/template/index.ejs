<!DOCTYPE html>

<html lang="en-US">

<head>
	<title>tuiche000的博客</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="template" content="Period 1.200" />
	<meta name="generator" content="WordPress 5.3.2" />
	<meta name="description" content="左手代码右手诗" />
	<meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
	<link rel="canonical" href="https://www.laruence.com/" />
	<link rel="alternate" type="application/rss+xml" title="风雪之隅 &raquo; Feed" href="https://www.laruence.com/feed" />
	<link rel="alternate" type="application/rss+xml" title="风雪之隅 &raquo; Comments Feed"
		href="https://www.laruence.com/comments/feed" />
	<meta property="og:image" content="https://www.laruence.com/logo.jpg" />

	<style type="text/css">
		img.wp-smiley,
		img.emoji {
			display: inline !important;
			border: none !important;
			box-shadow: none !important;
			height: 1em !important;
			width: 1em !important;
			margin: 0 .07em !important;
			vertical-align: -0.1em !important;
			background: none !important;
			padding: 0 !important;
		}
	</style>
	<link rel='stylesheet' id='wp-block-library-css'
		href='https://www.laruence.com/wp-includes/css/dist/block-library/style.min.css?ver=5.3.2' type='text/css'
		media='all' />
	<link rel='stylesheet' id='ct-period-style-css'
		href='https://www.laruence.com/wp-content/themes/period/style.css?ver=5.3.2' type='text/css' media='all' />
	<style id='ct-period-style-inline-css' type='text/css'>
		/* custome style */
		@font-face {
			font-family: font-regular;
			src: url('/fonts/sans-regular.woff');
		}

		@font-face {
			font-family: font-bold;
			src: url('/fonts/sans-medium.woff');
		}

		@font-face {
			font-family: font-light;
			src: url('/fonts/sans-light.woff');
		}

		@font-face {
			font-family: light-italic;
			src: url('/fonts/sans-lightitalic.woff');
		}

		body {
			font-family: font-regular, 'Helvetica Neue', sans-serif;
		}

		.site-title {
			font-family: font-bold;
			font-size: 2em;
		}

		.post-content p {
			line-height: 1.8em;
		}

		.post-content a {
			font-family: font-light;
		}

		.post-content blockquote {
			font-family: light-italic;
		}

		h1,
		h2,
		h3,
		h4,
		b {
			font-family: font-bold;
			font-weight: 100;
		}

		#profile {
			height: 1.2em;
			margin: 0;
			padding: 0;
		}

		#profile #profile_picture {
			float: left;
			width: 81px;
			height: 50px;
			margin-left: 0em;
			margin-top: -9px;
		}

		#profile #profile_intro {
			float: left;
			width: 70%;
			margin-left: 5px;
			margin-top: 0.2em;
		}

		#profile #profile_intro p {
			font-size: 85%;
			margin-top: -1.6em;
		}

		#profile #profile_intro .name {
			font-weight: bold;
			font-size: 110%;
		}

		#profile #profile_intro p a {
			font-weight: 500;
		}

		#meme {
			margin: -2em 0 0 88.5%;
			padding-bottom: 1.5em;
		}

		#footercontent {
			font-weight: 100;
			font-size: 80%;
			text-align: left;
		}

		#footercontent a {
			font-weight: 200;
		}

		#footercontent img {
			height: 14px;
		}

		.copyright {
			font-size: 80%;
			margin: -1em 0 -1em 0;
			padding: 0;
			font-family: font-light;
		}

		.copyright a {
			font-weight: 200;
			font-family: font-light
		}

		#projects a {
			font-family: font-bold;
			font-size: 110%;
		}

		@media all and (max-width: 56.25em) {
			#main {
				margin-top: 4.5em;
			}

			#text-2 {
				position: absolute;
				top: 10em;
				height: 5em;
				width: 89%;
				-webkit-transition: top 0.3s ease-in-out;
				transition: top 0.3s ease-in-out;
			}

			#text-2.open {
				top: 27.5em;
				-webkit-transition: top 0.3s ease-in-out;
				transition: top 0.3s ease-in-out;
			}

			#text-2 #meme {
				display: none;
			}
		}

		.post-content>div.post-categories {
			display: inline;
			font-size: 80%;
		}

		.post-content>div.post-categories a {
			text-decoration: none;
		}

		.post-content li {
			line-height: 1.5em;
			margin: 0.3em;
		}

		.post-content .note {
			font-size: 90%;
			background-color: #eee;
			border: 1px solid #000;
			margin: 0.5em;
			padding: 1em;
		}
	</style>
	
	<style type="text/css">
		.recentcomments a {
			display: inline !important;
			padding: 0 !important;
			margin: 0 !important;
		}
	</style>
</head>
<!-- <script>
JSON.stringify
</script> -->
<body id="period" class="home blog">
	<a class="skip-content" href="#main">Press "Enter" to skip to content</a>
	<div id="overflow-container" class="overflow-container">
		<%- include('./common/header') %>
		<div id="primary-container" class="primary-container">
			<div class="max-width">
				<section id="main" class="main" role="main">

					<div id="loop-container" class="loop-container">
						<div
							class="post-6033 post type-post status-publish format-standard hentry category-php8 category-php-usage category-notes tag-match tag-match-expressionswitch tag-php-8 tag-php8 entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/07/13/6033.html">
												<%= article_list[0]['title'] %>
											</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/07'>13 July 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<%= article_list[0]['description'] %>
										<!-- <p>PHP8 alpha2发布了，最近引入了一个新的关键字：match, 这个关键字的作用跟switch有点类似。</p>
										<p>这个我觉得还是有点意思，match这个词也挺好看，那么它是干啥的呢？</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/php8"
												title="View all posts in PHP8">PHP8</a>, <a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a>, <a
												href="https://www.laruence.com/category/notes"
												title="View all posts in 随笔">随笔</a></div> <span class="comments-link">
											with <a href="https://www.laruence.com/2020/07/13/6033.html#comments">22
												Comments</a></span> -->
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-6015 post type-post status-publish format-standard hentry category-notes tag-if-else tag-lable tag-php tag-742 tag-643 entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/07/09/6015.html">一个关于if
												else容易迷惑的问题</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/07'>9 July 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>这个本来是之前在微博上有个同学说他经常用来面试别人，大概是说，对于如下代码，你觉得会输出啥:</p>
										<pre name="code" class="sh_php" linenum="off">
$a = true;
if ($a) {
  echo &quot;true&quot;;
} else label: {
  echo &quot;false&quot;;
}
</pre>
										<p>当时没想写，今天中午又有人问我，我想那就介绍下这个原因吧.</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/notes"
												title="View all posts in 随笔">随笔</a></div> <span class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/07/09/6015.html#comments">14
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5963 post type-post status-publish format-standard hentry category-php8 category-php-usage tag-jit tag-jit_buffer_size tag-jit_debug tag-opcache tag-php-8 tag-php-jit tag-php8 entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/06/27/5963.html">PHP 8新特性之JIT简介</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/06'>27 June 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>PHP8 alpha1已经在昨天发布，相信关于JIT是大家最关心的，它到底怎么用，有什么要注意的，以及性能提升到底咋样？<a
												href="/medias/2020/06/CAEC7B6B-3265-4355-AFCD-53343B4F00ED.jpeg"><img
													src="/medias/2020/06/CAEC7B6B-3265-4355-AFCD-53343B4F00ED.jpeg"
													alt="" width="290" height="174"
													class="aligncenter size-full wp-image-5990" /></a></p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/php8"
												title="View all posts in PHP8">PHP8</a>, <a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a></div> <span
											class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/06/27/5963.html#comments">29
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5916 post type-post status-publish format-standard hentry category-gnuc category-php8 category-php-usage category-notes tag-php8 tag-rot tag-simd tag-sse2 tag-strtolower entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a
												href="https://www.laruence.com/2020/06/16/5916.html">使用SSE2指令高效实现strtolower</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/06'>16 June 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>PHP的类名，函数，方法名是不区分大小写的，也就是说无论你怎么定义函数名，实际上在引擎层面查找的时候都是会统一转换成小写形式来做的。
											也就是说strtolower的应用是非常普遍的。</p>
										<p>当然，PHP也做了很多的设计来避免对字符串做过多的字符串小写操作，比如如果我们在PHP代码中写下:</p>
										<pre name="code" class="sh_php" linenum="off">
CamelFunc();
</pre>
										<p>这样的函数调用的时候， PHP会在编译时刻就把CamelFunc全部小写，然后存储在原始字面量之后(PHP-5.4 literals)。</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/gnuc"
												title="View all posts in GNU C/C++">GNU C/C++</a>, <a
												href="https://www.laruence.com/category/php8"
												title="View all posts in PHP8">PHP8</a>, <a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a>, <a
												href="https://www.laruence.com/category/notes"
												title="View all posts in 随笔">随笔</a></div> <span class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/06/16/5916.html#comments">4
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5902 post type-post status-publish format-standard hentry category-php8 category-php-usage category-notes tag-attributes tag-doc_comment tag-php-8 tag-php8 tag-reflection tag-728 tag-729 tag-730 entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/06/12/5902.html">PHP
												8新特性之Attributes(注解)</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/06'>12 June 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>PHP8的Alpha版本，过几天就要发布了，其中包含了不少的新特性，今天呢，我想谈谈Attributes，为啥呢，
											是昨天我看到很多群在转发一个文章，叫做《理解PHP8中的Attributes》，说实在的，这篇文章应该是直接从英文翻译过来的，写的晦涩难懂，很多同学看完以后表示，看的一头雾水，不知道在说啥。
										</p>
										<p> 于是我想，就用一篇文章来简单说说这是个啥。</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/php8"
												title="View all posts in PHP8">PHP8</a>, <a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a>, <a
												href="https://www.laruence.com/category/notes"
												title="View all posts in 随笔">随笔</a></div> <span class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/06/12/5902.html#comments">39
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5880 post type-post status-publish format-standard hentry category-gnuc category-notes tag-ansi-escape-code tag-iterm2 tag-osc52 tag-pbcopy tag-remote-pbcopy entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a
												href="https://www.laruence.com/2020/05/21/5880.html">使用OSC52实现iTerm2远程pbcopy</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/05'>21 May 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>最高效的码字方式，一定有一个特点，那就是手指离开键盘的次数尽可能的少。 并且手指码字的时候的在键盘的跨度尽可能的短，
											这也是我认识不少老牌程序员用Vim也不用ESC， 而是使用ctrl+[, 甚至还有这：<br />
											<a href="/medias/2020/05/Screen-Shot-2020-05-21-at-18.21.41.png"><img
													src="/medias/2020/05/Screen-Shot-2020-05-21-at-18.21.41-300x241.png"
													alt="" width="300" height="241"
													class="aligncenter size-medium wp-image-5884" /></a><br />
											从而避免手指在键盘上的跨越幅度太大。</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/gnuc"
												title="View all posts in GNU C/C++">GNU C/C++</a>, <a
												href="https://www.laruence.com/category/notes"
												title="View all posts in 随笔">随笔</a></div> <span class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/05/21/5880.html#comments">11
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5832 post type-post status-publish format-standard hentry category-php-usage category-10 tag-3-2-0 tag-performance tag-psr-4 tag-registernamespace tag-yaf tag-yaf_loader entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/04/18/5832.html">Yaf 3.2 发布</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/04'>18 April 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>经过俩周多的重构，终于一咬牙今天发布了Yaf 3.2.0 beta， 要不然一直在想各种可能的优化点，不停的写，没完了， 🙂</p>
										<p>这次的重构的最初出发点是把原来的Yaf对象从PHP的原生对象，改成了自定义的对象:</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a>, <a
												href="https://www.laruence.com/category/%e8%bd%ac%e8%bd%bd"
												title="View all posts in 转载">转载</a></div> <span class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/04/18/5832.html#comments">18
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5726 post type-post status-publish format-standard hentry category-php7 category-php-usage tag-php-socket tag-tcp-rpc-server tag-yar tag-yar-tcp tag-yar-tcp-server tag-yar-c entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/04/01/5726.html">使用PHP Socket开发Yar
												TCP服务</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/04'>1 April 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>Yar支持HTTP和TCP俩种Transporter， HTTP的是基于CURL，PHP中的Yar默认就是走的HTTP Transporter，
											这个大家应该都不陌生， 但是基于TCP的， 可能大家会用的少一些。<br />
											今天我们尝试用PHP来写一个TCP的Server，来介绍下如何实现对Yar RPC协议的处理， 这个例子可以方便的结合<a
												href="https://www.swoole.com" target="_blank"
												rel="noopener noreferrer">Swoole</a>等异步PHP框架，实现一个高性能的Yar TCP Server。
											这个过程中， 会让大家了解Yar的RPC通信协议，以及捎带了解下Socket编程。</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/php7"
												title="View all posts in PHP7">PHP7</a>, <a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a></div> <span
											class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/04/01/5726.html#comments">19
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5657 post type-post status-publish format-standard hentry category-php7 category-php-usage category-notes tag-cache tag-lock-free tag-shared-memory tag-user-data-cache tag-yac tag-591 entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a href="https://www.laruence.com/2020/03/25/5657.html">Yac 2.1 升级说明</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/03'>25 March 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>Yac (Yet Another cache)也是之前我在微博的时候开发的一个为PHP使用的，Lock-free, Shared Memory, User
											Data Cache，用来替代当时微博在PHP机器上装的本地Memcache，
											因为当时的需求特点，最初做了完全无锁的设计，但是这样有一个隐患就是用户有可能获得“错误”的数据，虽然之前的测试概率非常非常低。
											关于Yac的设计，可以参考我7年前写的<a href=https://www.laruence.com/2013/03/18/2846.html>Yac
												(Yet Another Cache) - 无锁共享内存Cache</a>。 </p> <p>作为我的Ya全家桶的重要一员，
												在我优化完一轮Yaf, Yar, Yaconf以后，Yac当然也不能少了。</p>
										<div class="post-categories"><span>Filed in </span><a
												href="https://www.laruence.com/category/php7"
												title="View all posts in PHP7">PHP7</a>, <a
												href="https://www.laruence.com/category/php-usage"
												title="View all posts in PHP应用">PHP应用</a>, <a
												href="https://www.laruence.com/category/notes"
												title="View all posts in 随笔">随笔</a></div> <span class="comments-link">
											<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
											with <a href="https://www.laruence.com/2020/03/25/5657.html#comments">7
												Comments</a></span>
									</div>
								</div>
							</article>
						</div>
						<div
							class="post-5605 post type-post status-publish format-standard hentry category-php7 category-php-internal tag-object tag-object-handle tag-objects_store tag-php7 tag-zend_object tag-705 entry">
							<article>
								<div class="post-container">
									<div class='post-header'>
										<h2 class='post-title'>
											<a
												href="https://www.laruence.com/2020/03/23/5605.html">深入理解PHP7内核之OBJECT</a>
										</h2>
										<div class="post-byline">Published on <a class='date'
												href='https://www.laruence.com/2020/03'>23 March 2020</a> by <a
												class='author'
												href='https://www.laruence.com/author/laruence'>laruence</a></div>
									</div>
									<div class="post-content">
										<p>前面的几篇，我系统的介绍了PHP7以后的<a
												href=https://www.laruence.com/2018/04/08/3170.html>ZVAL </a>, <a
												href=https://www.laruence.com/2020/02/25/3182.html>Hashtable </a>, 以及<a
												href=https://www.laruence.com/2018/04/08/3179.html>Reference </a>,
												今天我来讲讲Object(对象)的一些变化。</p> <p>
												按照惯例，我先带大家回顾下PHP5时的zend_object（此部分内容之前的文章中也有涉及，如果熟悉可以跳过),
												之前如果有兴趣也可以看看我10年前写的<a
													href=https://www.laruence.com/2010/05/18/1482.html>深入理解PHP原理之对象
													</a>. </p> <div class="post-categories"><span>Filed in </span><a
														href="https://www.laruence.com/category/php7"
														title="View all posts in PHP7">PHP7</a>, <a
														href="https://www.laruence.com/category/php-internal"
														title="View all posts in PHP源码分析">PHP源码分析</a>
									</div> <span class="comments-link">
										<!--<i class="fa fa-comment" aria-hidden="true" title="comment icon"></i>-->
										with <a href="https://www.laruence.com/2020/03/23/5605.html#comments">3
											Comments</a></span>
								</div>
						</div>
						</article>
					</div>
			</div>


			<nav class="navigation pagination" role="navigation" aria-label="Posts">
				<h2 class="screen-reader-text">Posts navigation</h2>
				<div class="nav-links"><span aria-current="page" class="page-numbers current">1</span>
					<a class="page-numbers" href="https://www.laruence.com/page/2">2</a>
					<span class="page-numbers dots">&hellip;</span>
					<a class="page-numbers" href="https://www.laruence.com/page/29">29</a>
					<a class="next page-numbers" href="https://www.laruence.com/page/2">Next</a></div>
			</nav>
			</section> <!-- .main -->
			<%- include('./common/aside') %>
		</div><!-- .max-width -->
	</div><!-- .primary-container -->

	<!-- <footer id="site-footer" class="site-footer" role="contentinfo">
		<div class="max-width">
		</div>
		<div class='footer'>
			<div id="footercontent">
				&copy; <a href="https://www.laruence.com" title="Home">风雪之隅</a>/ <a href="http://www.php.net"
					target="_blank"><img src="/images/php_logo.png" /></a>/ <a href="https://www.laruence.com/licence"
					title="licence" rel="licence copyright">博客声明</a>/ <a href=http://www.miibeian.gov.cn
					target=_blank>京ICP备15032766号</a>/ Theme By <a href="https://www.competethemes.com/period/"
					title="Period">Compete Themes</a>
			</div>
		</div>
		</div>
		</div>
	</footer> -->
	</div><!-- .overflow-container -->



	<script type="text/javascript">

		syntaxHilite();

		function syntaxHilite() {
			var tab = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
			var codes = document.getElementsByTagName("pre");

			sh_highlightDocument();

			for (var i = 0; i < codes.length; i++) {
				if (codes[i].getAttribute("name") != "code") {
					continue;
				}

				var orig = codes[i].innerHTML;
				var nextline = "";
				var output = "";
				var lineBeginning = true;

				for (var j = 0; j < orig.length; j++) {
					var nextChar = orig.charAt(j);

					if (nextChar == '\r' || nextChar == '\n' || (j + 1) == orig.length) {
						if (nextChar == '\r' && (j + 1) <= orig.length && orig.charAt(j + 1) == '\n') {
							j++;
						}

						if (nextline.length < 1) {
							nextline = "&nbsp;";
						}

						output += '<li>' + nextline + '</li>';
						nextline = "";
						lineBeginning = true;
					} else {
						if (nextChar == '\t') {
							nextline += tab;
						}
						else if (nextChar == ' ' && lineBeginning == true) {
							nextline += "&nbsp;";
						} else {
							lineBeginning = false;
							nextline += nextChar;
						}
					}
				}

				output = "<ol>" + output + '</ol>';
				codes[i].innerHTML = output;
			}
		}

	</script>
	
</body>

</html>